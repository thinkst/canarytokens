function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ManageToken-oXWTfoYG.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-BcWz3Cy2.js","assets/index-CxPzEQtw.js","assets/index-KkI_b2L5.css","assets/ManageToken-CdLajGCt.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-COqPYM6V.js","assets/BaseCodeSnippet.vue_vue_type_script_setup_true_lang-1P89muLf.js","assets/BaseCodeSnippet-BD9YfSrM.css","assets/ManageToken-DjwZreSi.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-DFBlh9oA.js","assets/ManageToken-BEV3nuHO.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-CHRKO6P4.js","assets/ManageToken-Yc296pXx.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-Bj5j_uTR.js","assets/BaseSwitch-DbdecwMM.js","assets/BaseSwitch-Ea-_x461.css","assets/ManageToken-DLIklXVp.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-5OsbTGwN.js","assets/ManageToken-Chn7U0HS.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-Zwz2nixm.js","assets/ManageToken-gqTP1RQj.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-CE35Zdpb.js","assets/ManageToken-CecvqWxT.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-BxEE0JDq.js","assets/ManageToken-BX__EN6S.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-LeEtDLxy.js","assets/ManageToken-BimIB5Xl.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-BpOisnPR.js","assets/ManageToken-DfKpiDiM.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-ZgJXd8yt.js","assets/ManageToken-CLGDhuXX.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-BIUw44Sj.js","assets/ManageToken-CDm4tQjN.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-CfLpM2Iy.js","assets/ManageToken-z3N1yiTe.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-BS1dJCZr.js","assets/pwaIconService-CKg4EtY7.js","assets/ManageToken-DhZW5LeZ.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-BSUWYKJY.js","assets/ManageToken-CF-c6Ctc.js","assets/ManageToken-ZwDfTnta.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-cp3HFCEJ.js","assets/ManageToken-Cg_-4Yv-.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-I7EnZCr1.js","assets/ManageToken-Caoi63-o.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-DNX0s94g.js","assets/ManageToken-DbALVCst.js","assets/generateSVNToken-CJOsXXAB.js","assets/ManageToken-BJSWqXA7.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-1LGKIybi.js","assets/ManageToken-CN9k7eI_.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-C_XBb4IZ.js","assets/ManageToken-Bk0kYIlM.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-CWLygKZm.js","assets/ManageToken-C2bxoh6B.js","assets/TokenDisplay.vue_vue_type_script_setup_true_lang-JjsoLwvr.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{A as G}from"./AppLayoutOneColumn-Hp90_uAC.js";import{d as O,r as m,o as H,S as d,a as r,c as E,b as y,w as C,u as f,e as T,T as D,G as K,U as j,s as U,f as s,g as L,h as A,i,j as h,_ as Y,k as $,n as q,l as P,t as b,m as F,p as N,q as W,v as z,x as J,y as Z,z as Q,A as X,B as ee,C as ae,D as oe,E as V,F as te,H as ne,I as se,J as re,K as le,L as ue,M as _e,N as t}from"./index-CxPzEQtw.js";import{_ as ie}from"./BaseSwitch-DbdecwMM.js";const ce={class:"flex flex-col gap-24"},S="An error occurred. Please try again.",de=O({__name:"SettingsToken",props:{tokenBackendResponse:{}},setup(x){const n=x;function _(){return n.tokenBackendResponse.canarydrop.type===D.WEB_BUG||n.tokenBackendResponse.canarydrop.type===D.WEB_IMAGE}function l(){return n.tokenBackendResponse.canarydrop.type===D.WEB_IMAGE}const v=m(n.tokenBackendResponse.canarydrop.alert_email_recipient),o=m(n.tokenBackendResponse.canarydrop.alert_webhook_url),M=m(_()),w=m(l()),e=m({[d.EMAIL]:!1,[d.WEB_HOOK]:!1,[d.BROWSER_SCANNER]:!1,[d.WEB_IMAGE]:!1}),p=m({[d.EMAIL]:!1,[d.WEB_HOOK]:!1,[d.BROWSER_SCANNER]:!1,[d.WEB_IMAGE]:!1}),k=m({[d.EMAIL]:!1,[d.WEB_HOOK]:!1,[d.BROWSER_SCANNER]:!1,[d.WEB_IMAGE]:!1});H(()=>{Object.keys(d).forEach(u=>{const a=K[u];e.value[u]=!!n.tokenBackendResponse.canarydrop[a],p.value[u]=!1,k.value[u]=!1})});function I(u){return u?"on":"off"}async function R(u,a){var c;const g={value:I(a),token:(c=n.tokenBackendResponse.canarydrop.canarytoken)==null?void 0:c._value,auth:n.tokenBackendResponse.canarydrop.auth,setting:j[u]};Object.keys(k.value).forEach(B=>{k.value[B]=!1}),p.value[u]=!0;try{const B=await U(g);B.status===200?e.value[u]=a:(console.log("Error:",B.data.detail),k.value[u]=!0)}catch(B){console.log(B,"error!"),k.value[u]=!0}finally{p.value[u]=!1}}return(u,a)=>{const g=ie;return r(),E("div",ce,[v.value?(r(),y(g,{key:0,id:"email-alert",modelValue:e.value.EMAIL,"onUpdate:modelValue":a[0]||(a[0]=c=>e.value.EMAIL=c),label:"Email alerts","helper-message":u.tokenBackendResponse.canarydrop.alert_email_recipient,loading:p.value.EMAIL,"has-error":k.value.EMAIL,"error-message":S,onClick:a[1]||(a[1]=C(c=>R(f(d).EMAIL,!e.value.EMAIL),["prevent"]))},null,8,["modelValue","helper-message","loading","has-error"])):T("",!0),o.value?(r(),y(g,{key:1,id:"webhook-alert",modelValue:e.value.WEB_HOOK,"onUpdate:modelValue":a[2]||(a[2]=c=>e.value.WEB_HOOK=c),label:"Webhook reporting","helper-message":n.tokenBackendResponse.canarydrop.alert_webhook_url,loading:p.value.WEB_HOOK,"has-error":k.value.WEB_HOOK,"error-message":S,onClick:a[3]||(a[3]=C(c=>R(f(d).WEB_HOOK,!e.value.WEB_HOOK),["prevent"]))},null,8,["modelValue","helper-message","loading","has-error"])):T("",!0),M.value?(r(),y(g,{key:2,id:"browser-alert",modelValue:e.value.BROWSER_SCANNER,"onUpdate:modelValue":a[4]||(a[4]=c=>e.value.BROWSER_SCANNER=c),label:"Browser scanner","helper-message":"Runs Javascript fingerprinting when the token is browsed",loading:p.value.BROWSER_SCANNER,"has-error":k.value.BROWSER_SCANNER,"error-message":S,onClick:a[5]||(a[5]=C(c=>R(f(d).BROWSER_SCANNER,!e.value.BROWSER_SCANNER),["prevent"]))},null,8,["modelValue","loading","has-error"])):T("",!0),w.value?(r(),y(g,{key:3,id:"custom-image",modelValue:e.value.WEB_IMAGE,"onUpdate:modelValue":a[6]||(a[6]=c=>e.value.WEB_IMAGE=c),label:"Custom web image","helper-message":"Serve your alternative image",loading:p.value.WEB_IMAGE,"has-error":k.value.WEB_IMAGE,"error-message":S,onClick:a[7]||(a[7]=C(c=>R(f(d).WEB_IMAGE,!e.value.WEB_IMAGE),["prevent"]))},null,8,["modelValue","loading","has-error"])):T("",!0)])}}}),me={class:"grid sm:grid-cols-[1fr_5fr] border gap-32 border-grey-200 items-center p-32 bg-white rounded-3xl shadow-solid-shadow-grey"},pe={class:"justify-center hidden sm:flex"},ve=["src"],ke={class:"text-left"},ge=s("p",{class:"text-xl font-semibold leading-normal text-grey-800"}," We hope you enjoy the free version of Canarytokens! ",-1),fe={class:"mt-16 leading-relaxed text-balance text-grey-500"},Ee=O({__name:"BannerTextCanarytools",setup(x){return(n,_)=>{const l=Y;return r(),E("div",me,[s("div",pe,[s("img",{src:f(L)("thinkst_canary_logo.png"),alt:"logo Canarytokens",class:"w-full sm:block max-w-[8rem]"},null,8,ve)]),s("div",ke,[ge,s("p",fe,[A(" For more (non-public) tokens, support, mass-deployment-tools and better management of your deployed tokens, check out our commercial offering at "),i(l,{class:"font-semibold",href:"https://canary.tools",target:"_blank"},{default:h(()=>[A("https://canary.tools")]),_:1})])])])}}}),he={class:"relative mb-16"},ye=["src","alt"],Te=s("div",{class:"text-center"},[s("p",{class:"text-xl font-semibold leading-normal text-grey-800"}," Are you sure you want to delete this Canarytoken? "),s("p",{class:"mt-8 leading-normal text-normal text-grey-300"}," All associated alerts will be permanently lost ")],-1),xe={key:1,class:"flex flex-row justify-center w-full"},Re=O({__name:"DeleteTokenModal",props:{auth:{},token:{},type:{},closeModal:{type:Function}},setup(x){const n=$(),_=m(!1),l=m(""),v=m(""),o=x,M=async()=>{_.value=!0,l.value="";const w={auth:o.auth,token:o.token};try{const e=await F(w);e.status===200?(v.value="Yay! Your Canarytoken, plus associated alerts, has been successfully deleted.",setTimeout(()=>{o.closeModal(),n.push({name:"home"})},3e3)):e.status===404?(o.closeModal(),n.push({name:"error"})):l.value="Oh no! Something went wrong when deleting your Canarytoken."}catch(e){console.log(e,"err!"),l.value=e.toString()}finally{_.value=!1}};return(w,e)=>{const p=N,k=W,I=z;return r(),y(I,{"documentation-link":"","has-back-button":!1,title:"Delete token","has-close-button":!0},{footer:h(()=>[s("div",null,[l.value||v.value?(r(),y(p,{key:0,class:q(`w-[90%] m-auto ${l.value?"mb-16":""}`),variant:v.value?"success":"danger",message:l.value||v.value},null,8,["class","variant","message"])):T("",!0),v.value?T("",!0):(r(),E("div",xe,[i(k,{variant:"grey",class:"mr-8",onClick:e[0]||(e[0]=R=>w.closeModal())},{default:h(()=>[A("No, keep it")]),_:1}),i(k,{variant:"danger",loading:_.value,onClick:e[1]||(e[1]=R=>M())},{default:h(()=>[A("Yes, delete")]),_:1},8,["loading"])]))])]),default:h(()=>[s("span",he,[i(P,{title:f(b)[o.type].label,"logo-img-url":f(b)[o.type].icon,class:"h-[6rem] w-[6rem]","has-shadow":!0,"has-animation":!0},null,8,["title","logo-img-url"]),s("img",{src:f(L)("token_icons/delete_token_badge.png"),alt:`${f(b)[o.type].label}`,class:"absolute w-[1.3rem] bottom-[.5rem] right-[.3rem]"},null,8,ye)]),Te]),_:1})}}}),we={class:"flex flex-row items-center justify-between mt-32"},Ae=s("div",{class:"flex flex-col"},[s("span",null,"Delete Canarytoken"),s("span",{class:"text-xs leading-4 text-grey-500 pr-[3rem]"},"Remove this Canarytoken and delete all related alerts")],-1),Me=O({__name:"DeleteTokenButton",props:{memo:{},token:{},auth:{},type:{}},setup(x){function n(_,l,v){const{open:o,close:M}=J({component:Re,attrs:{type:_,auth:l,token:v,closeModal:()=>M()}});o()}return(_,l)=>{const v=W;return r(),E("div",we,[Ae,s("div",null,[i(v,{variant:"danger",border:!0,onClick:l[0]||(l[0]=o=>n(_.type,_.auth,_.token))},{default:h(()=>[A("Delete")]),_:1})])])}}}),be={},Be=s("h3",{class:"inline-block mb-8 text-grey-500"},"Your Memo for this token",-1),Oe={class:"flex flex-row items-center self-start flex-grow gap-16 py-8 w-full bg-grey-100 rounded-2xl min-h-[3rem] text-grey"},Ie={class:"py-8 text-pretty"};function Ce(x,n){const _=Q("font-awesome-icon");return r(),E("div",null,[Be,s("div",Oe,[i(_,{icon:"quote-left",class:"pl-16 text-2xl text-grey-300"}),s("p",Ie,[X(x.$slots,"default")])])])}const Ve=Z(be,[["render",Ce]]),Se={key:0,class:"flex flex-col items-center gap-8 mb-24"},De={class:"text-xl text-center text-grey-800"},Le={key:1,class:"flex flex-col items-center w-full gap-8"},$e={key:3,class:"md:mx-32 md:max-w-[50vw] w-full"},Pe={class:"flex flex-col justify-center p-16 md:p-32 rounded-3xl bg-grey-50"},Ne={class:"flex flex-col w-full gap-8"},We={key:0},Ge={key:1},He={class:"font-bold"},Ke={class:"flex justify-center sm:max-w-[50vw]"},je=O({__name:"ManageToken",setup(x){const n=ee(),_=$(),l=m(!1),v=m(null),o=m(),M=m(),w=m({props:{}}),e=m(0),p=ae(()=>o.value.canarydrop.expected_referrer==="microsoftonline.com"?D.AZURE_ENTRA_CONFIG:o.value.canarydrop.type);function k(){const u=n.params.auth,a=n.params.token;_.push({name:"history",params:{auth:u,token:a}})}async function I(){l.value=!0;const u={auth:n.params.auth,token:n.params.token};try{const a=await ue(u);l.value=!1,o.value=a.data,M.value=`token_icons/${b[p.value].icon}`,e.value=o.value.canarydrop.triggered_details.hits.length,R()}catch(a){console.log(a,"err!"),v.value=a.toString(),_.push({name:"error"})}finally{l.value=!1}}async function R(){w.value=await re(()=>_e(Object.assign({"./tokens/adobe_pdf/ManageToken.vue":()=>t(()=>import("./ManageToken-oXWTfoYG.js"),__vite__mapDeps([0,1,2,3])),"./tokens/aws_keys/ManageToken.vue":()=>t(()=>import("./ManageToken-CdLajGCt.js"),__vite__mapDeps([4,5,6,2,3,7])),"./tokens/azure_id/ManageToken.vue":()=>t(()=>import("./ManageToken-DjwZreSi.js"),__vite__mapDeps([8,9,2,3,6,7])),"./tokens/azure_id_config/ManageToken.vue":()=>t(()=>import("./ManageToken-BEV3nuHO.js"),__vite__mapDeps([10,11,2,3])),"./tokens/clonedsite/ManageToken.vue":()=>t(()=>import("./ManageToken-Yc296pXx.js"),__vite__mapDeps([12,13,14,2,3,15,6,7])),"./tokens/cmd/ManageToken.vue":()=>t(()=>import("./ManageToken-DLIklXVp.js"),__vite__mapDeps([16,17,2,3])),"./tokens/cssclonedsite/ManageToken.vue":()=>t(()=>import("./ManageToken-Chn7U0HS.js"),__vite__mapDeps([18,19,6,2,3,7])),"./tokens/dns/ManageToken.vue":()=>t(()=>import("./ManageToken-gqTP1RQj.js"),__vite__mapDeps([20,21,6,2,3,7])),"./tokens/fast_redirect/ManageToken.vue":()=>t(()=>import("./ManageToken-CecvqWxT.js"),__vite__mapDeps([22,23,6,2,3,7])),"./tokens/kubeconfig/ManageToken.vue":()=>t(()=>import("./ManageToken-BX__EN6S.js"),__vite__mapDeps([24,25,2,3])),"./tokens/log4shell/ManageToken.vue":()=>t(()=>import("./ManageToken-BimIB5Xl.js"),__vite__mapDeps([26,27,6,2,3,7])),"./tokens/ms_excel/ManageToken.vue":()=>t(()=>import("./ManageToken-DfKpiDiM.js"),__vite__mapDeps([28,29,2,3])),"./tokens/ms_word/ManageToken.vue":()=>t(()=>import("./ManageToken-CLGDhuXX.js"),__vite__mapDeps([30,31,2,3])),"./tokens/my_sql/ManageToken.vue":()=>t(()=>import("./ManageToken-CDm4tQjN.js"),__vite__mapDeps([32,33,14,2,3,15,6,7])),"./tokens/pwa/ManageToken.vue":()=>t(()=>import("./ManageToken-z3N1yiTe.js"),__vite__mapDeps([34,35,2,3,36])),"./tokens/qr_code/ManageToken.vue":()=>t(()=>import("./ManageToken-DhZW5LeZ.js"),__vite__mapDeps([37,38,2,3])),"./tokens/signed_exe/ManageToken.vue":()=>t(()=>import("./ManageToken-CF-c6Ctc.js"),__vite__mapDeps([39,2,3])),"./tokens/slow_redirect/ManageToken.vue":()=>t(()=>import("./ManageToken-ZwDfTnta.js"),__vite__mapDeps([40,41,6,2,3,7])),"./tokens/smtp/ManageToken.vue":()=>t(()=>import("./ManageToken-Cg_-4Yv-.js"),__vite__mapDeps([42,43,6,2,3,7])),"./tokens/sql_server/ManageToken.vue":()=>t(()=>import("./ManageToken-Caoi63-o.js"),__vite__mapDeps([44,45,6,2,3,7])),"./tokens/svn/ManageToken.vue":()=>t(()=>import("./ManageToken-DbALVCst.js"),__vite__mapDeps([46,47,6,2,3,7])),"./tokens/web/ManageToken.vue":()=>t(()=>import("./ManageToken-BJSWqXA7.js"),__vite__mapDeps([48,49,6,2,3,7])),"./tokens/web_image/ManageToken.vue":()=>t(()=>import("./ManageToken-CN9k7eI_.js"),__vite__mapDeps([50,51,6,2,3,7])),"./tokens/windows_dir/ManageToken.vue":()=>t(()=>import("./ManageToken-Bk0kYIlM.js"),__vite__mapDeps([52,2,3,53])),"./tokens/wireguard/ManageToken.vue":()=>t(()=>import("./ManageToken-C2bxoh6B.js"),__vite__mapDeps([54,55,6,2,3,7]))}),`./tokens/${p.value}/ManageToken.vue`))}return R(),oe(()=>n.params.token,I,{immediate:!0}),(u,a)=>{const g=le,c=N;return r(),E(se,null,[o.value?(r(),E("div",Se,[i(P,{title:f(b)[p.value].label,"logo-img-url":f(b)[p.value].icon,class:"h-[4rem] w-[4rem]","has-shadow":!1},null,8,["title","logo-img-url"]),s("h2",De,V(f(b)[p.value].label),1)])):T("",!0),l.value?(r(),E("div",Le,[i(g,{type:"circle",class:"w-[60px] h-[60px]"}),i(g,{type:"header",class:"w-[200px]"}),i(g,{type:"rectangle",class:"md:max-w-[50vw] w-full h-[250px] mt-16"})])):T("",!0),v.value?(r(),y(c,{key:2,variant:"danger",message:"Oh no! Something went wrong when managing your Canarytoken data. Please refresh the page or try again later."})):T("",!0),o.value?(r(),E("div",$e,[s("div",Pe,[(r(),y(ne,null,{fallback:h(()=>[s("div",Ne,[i(g,{class:"w-[100px]",type:"text"}),i(g,{class:"w-full",type:"header"})])]),default:h(()=>[(r(),y(te(w.value),{"token-backend-response":o.value},null,8,["token-backend-response"]))]),_:1})),i(Ve,{class:"mt-32"},{default:h(()=>[A(V(o.value.canarydrop.memo),1)]),_:1}),i(de,{"token-backend-response":o.value,class:"mt-32"},null,8,["token-backend-response"]),i(c,{class:"mt-32",variant:e.value?"danger":"info","text-link":e.value?"Check History":"",onClick:k},{default:h(()=>[e.value?(r(),E("span",Ge,[A(" This Canarytoken has been triggered "),s("span",He,V(e.value),1),A(" time"+V(e.value>1?"s":""),1)])):(r(),E("span",We,"This Canarytoken has never been triggered"))]),_:1},8,["variant","text-link"]),i(Me,{memo:o.value.canarydrop.memo,token:o.value.canarydrop.canarytoken._value,auth:o.value.canarydrop.auth,type:o.value.canarydrop.type},null,8,["memo","token","auth","type"])]),s("div",Ke,[i(Ee,{class:"mt-32 mb-8"})])])):T("",!0)],64)}}}),Fe=O({__name:"ManageView",setup(x){return(n,_)=>(r(),y(G,null,{default:h(()=>[i(je)]),_:1}))}});export{Fe as default};
