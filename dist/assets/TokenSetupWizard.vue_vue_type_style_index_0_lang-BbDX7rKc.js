const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GenerateAwsSnippet-B7Qo-mbd.js","assets/index-C8tSFf5z.js","assets/index-DEdDA82G.css","assets/GenerateLoadingState-lXR4o1cB.js","assets/GenerateLoadingState-DfVgw4fJ.css","assets/BaseCodeSnippet.vue_vue_type_script_setup_true_lang-C76TB_lw.js","assets/BaseCopyButton-BqpnCzwV.js","assets/BaseCopyButton-KGQptQmY.css","assets/BaseCodeSnippet-D6zLgBnL.css","assets/awsInfra-BYpPDmKt.js","assets/StepState.vue_vue_type_script_setup_true_lang-CF2FbRFm.js","assets/useFetchUserAccount-CZ_9WPnP.js","assets/constants-leaU8Fgz.js","assets/GenerateAwsSnippet-CZiiIFEP.css","assets/CheckAwsPermission-D_R17cVQ.js","assets/CheckAwsPermission-DkpH8quA.css","assets/GeneratePlan-BjtrVj5E.js","assets/assetService-DkjO-ceG.js","assets/GeneratePlan-BMPozv4v.css","assets/GenerateTerraformSnippet-C3P0tFM1.js","assets/GenerateTerraformSnippet-Uzg-9DJE.css"])))=>i.map(i=>d[i]);
import{d as D,r as u,au as A,e as a,h,O as T,V as U,av as j,k as o,y as v,ag as G,M as B,a as H,o as q,g as F,K as E,f as m,w as y,v as K,j as w,i as Y,n as J,N as Q,b as f,D as X,c as g}from"./index-C8tSFf5z.js";import{_ as Z}from"./StepState.vue_vue_type_script_setup_true_lang-CF2FbRFm.js";const ee={class:"flex flex-row justify-center step-wrapper"},te=["disabled","onClick"],ne={class:"flex flex-col justify-center items-center gap-8 align-center focus:outline-none mx-8"},oe={class:"text-white font-bold text-xl leading-10"},se=D({__name:"BaseStepCounter",props:{steps:{},currentStep:{}},emits:["handleStepClick"],setup(b,{emit:x}){const p=b,S=x,c=u(50),d=j(()=>{const s=document.querySelectorAll(".step-bar__right")[0].clientWidth;c.value=s},300);window.addEventListener("resize",d),A(()=>{window.removeEventListener("resize",d)});function i(e){return e+1<=p.currentStep}return(e,s)=>(a(),h("ol",ee,[(a(!0),h(T,null,U(p.steps,(_,t)=>(a(),h("li",{key:_.label,class:"flex"},[o("button",{type:"button",class:"grid grid-cols-3 group gap-y-8 md:gap-x-16 sm:gap-x-24 focus:outline-none focus-within:outline-none grid-rows-2",disabled:p.currentStep<=t,onClick:k=>S("handleStepClick",t+1)},[o("span",{class:v(["step-bar step-bar__left h-[4px] mt-[1.5rem] rounded-r-sm",i(t)?"active":"inactive"]),style:G(`--bar-width: ${c.value}`)},null,6),o("span",ne,[o("div",{class:v([i(t)?"cursor-pointer group-hover:drop-shadow-[0px_1px_1px_rgba(0,_0,_0,_0.15)] button-bg border-white drop-shadow-[0px_3px_3px_rgba(0,_0,_0,_0.25)] ":"bg-grey-200 border-grey-100","rounded-full w-[3rem] h-[3rem] border-[4px] border-solid flex flex-col align-center transition duration-150 ease-out group-hover:ease-in group-focus-visible:outline group-focus-visible:outline-offset-4 group-focus-visible:outline-green-300"])},[o("span",oe,B(t+1),1)],2)]),o("span",{class:v(["step-bar step-bar__right h-[4px] mt-[1.5rem] rounded-l-sm",i(t+1)?"active":"inactive"])},null,2),o("span",{class:v(["text-sm col-span-full text-center",i(t)?"group-hover:text-green-500 text-green-500":"text-grey-400"])},B(_.label),3)],8,te)]))),128))]))}}),re={class:"mb-40 items-center header min-h-[45px] items-stretch"},ae={class:"flex mb-[3rem]"},le={class:"bg-grey-50 flex flex-col rounded-xl p-16 grow min-h-[40vh]"},pe=D({__name:"TokenSetupWizard",props:{isManageToken:{type:Boolean}},setup(b){const x=f(()=>g(()=>import("./GenerateAwsSnippet-B7Qo-mbd.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),p=f(()=>g(()=>import("./CheckAwsPermission-D_R17cVQ.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,10,11,15]))),S=f(()=>g(()=>import("./GeneratePlan-BjtrVj5E.js"),__vite__mapDeps([16,1,2,9,17,12,10,18]))),c=f(()=>g(()=>import("./GenerateTerraformSnippet-C3P0tFM1.js"),__vite__mapDeps([19,1,2,3,4,5,6,7,8,9,10,20]))),d=b,i=H(),e=u(1),s=u(Array(3).fill({})),_=u({1:d.isManageToken?p:x,2:S,3:c}),t=u(!1),k=u(!1);q(()=>{s.value[0]=F(),s.value[0]===null&&(t.value=!0,setTimeout(()=>{i.push("/")},5e3)),window.addEventListener("beforeunload",C)}),A(()=>{window.removeEventListener("beforeunload",C)});function C(r){r.preventDefault()}const L=E(()=>_.value[e.value]||null),P=E(()=>e.value>1),V=[{label:"AWS Setup"},{label:"Review your decoys"},{label:"Deploy your decoys"}];function R(){e.value++}function $(){e.value--}function z(r){e.value=r}function I(r){s.value[e.value]=r}function W(r){s.value[e.value-1]={...s.value[e.value-1],...r}}function N(r){k.value=r}return(r,n)=>{const O=X,M=se;return a(),h(T,null,[o("div",re,[o("div",ae,[P.value?(a(),m(O,{key:0,type:"button",variant:"text",icon:"angle-left",onClick:$},{default:y(()=>n[4]||(n[4]=[K(" Back ")])),_:1})):w("",!0)]),Y(M,{steps:V,"current-step":e.value,onHandleStepClick:n[0]||(n[0]=l=>z(l))},null,8,["current-step"])]),o("div",le,[(a(),m(Q,null,{fallblack:y(()=>n[5]||(n[5]=[o("p",null,"Loading next step...",-1)])),default:y(()=>[t.value?w("",!0):(a(),m(J(L.value),{key:0,"initial-step-data":s.value[e.value-1],"current-step-data":s.value[e.value],onUpdateStep:R,onStoreCurrentStepData:n[1]||(n[1]=l=>I(l)),onIsSettingError:n[2]||(n[2]=l=>N(l)),onStorePreviousStepData:n[3]||(n[3]=l=>W(l))},null,40,["initial-step-data","current-step-data"]))]),_:1})),t.value?(a(),m(Z,{key:0,"is-error":t.value,"error-message":"We couldn't start the process. You'll be redirected to the Home Page."},null,8,["is-error"])):w("",!0)])],64)}}});export{pe as _};
