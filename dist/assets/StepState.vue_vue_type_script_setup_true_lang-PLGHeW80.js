import{d as p,r as h,L as l,e as a,h as t,O as u,k as c,M as y,i as f,v as k,j as n,J as w,l as m,m as v,f as B,p as S,C as _}from"./index-DatEjxfX.js";function L(s){if(s.includes("FAILURE_CHECK_ROLE")){const o=s.match(/AWS account (\d{12})/);return`We couldn't assume the role Canarytokens-Inventory-ReadOnly-Role in ${o?`AWS account ${o[1]}`:"your AWS account"}. Either the account number is wrong, or the AWS setup steps were not completed on your side. Re-check the AWS account number, and that the role and trust policy are in place.`}return s.includes("Name generation limit reached for canarytoken")?`${s} You can manually add them by clicking "+ New Decoy" again.`:s}const M={class:"my-16 flex flex-col items-center"},E={key:0,class:"mt-24"},N=["src"],$=p({__name:"StepState",props:{isLoading:{type:Boolean},loadingMessage:{},isError:{type:Boolean},errorMessage:{},hasIcon:{type:Boolean}},setup(s){const o=s,r=h(!1);return l(()=>o.isLoading,e=>{e===!0&&setTimeout(()=>{r.value=!0},3e4)}),l(()=>o.isError,e=>{e===!0&&(r.value=!1)}),(e,i)=>{const d=S,g=_;return a(),t("div",M,[e.isLoading&&!e.$slots.loading?(a(),t(u,{key:0},[c("p",null,y(e.loadingMessage),1),f(d,{height:"5rem",class:"mt-24"}),i[1]||(i[1]=c("p",{class:"mt-24"},"Please don't close this window",-1)),r.value?(a(),t("div",E,i[0]||(i[0]=[c("p",null,[k("This might take up to "),c("b",null,"30 seconds")],-1)]))):n("",!0)],64)):n("",!0),e.isLoading?w(e.$slots,"loading",{key:1}):n("",!0),e.isError?(a(),t(u,{key:2},[e.hasIcon?(a(),t("img",{key:0,src:m(v)("icons/errorIcon.svg"),alt:"success-icon",class:"w-[15rem] h-[15rem] mb-24"},null,8,N)):n("",!0),e.errorMessage?(a(),B(g,{key:1,message:m(L)(e.errorMessage),variant:"danger",class:"max-w-[100%] md:max-w-[60vw] lg:max-w-[40vw] text-justify"},null,8,["message"])):n("",!0)],64)):n("",!0)])}}});export{$ as _,L as e};
