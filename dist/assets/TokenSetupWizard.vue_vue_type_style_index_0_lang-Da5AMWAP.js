const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GenerateAwsSnippet-KOiijJ02.js","assets/index-BDTIPFyt.js","assets/index-B4syrpq9.css","assets/BaseCodeSnippet.vue_vue_type_script_setup_true_lang-BuloFzfN.js","assets/BaseCopyButton-B8ekOA3d.js","assets/BaseCopyButton-KGQptQmY.css","assets/BaseCodeSnippet-D6zLgBnL.css","assets/BaseCard-D7oVhfip.js","assets/awsInfra-DuYOQ03w.js","assets/StepState.vue_vue_type_script_setup_true_lang-DAe_izlq.js","assets/GenerateAwsSnippet-B2UPfTNq.css","assets/CheckAwsPermission-hYBt1W3A.js","assets/BaseFormTextField.vue_vue_type_style_index_0_lang-BAEYHnTD.js","assets/BaseLabel.vue_vue_type_script_setup_true_lang-DVt1QwvA.js","assets/BaseFormTextField-DPA1rF03.css","assets/CheckAwsPermission-Cn6r6DwI.css","assets/CheckAwsRole-CHZ5g6El.js","assets/InventoryAwsAccount-DEEb6sE2.js","assets/GeneratePlan-UofrnP2v.js","assets/constants-DJ0HIoY4.js","assets/GeneratePlan-DhZhLyeb.css","assets/GenerateTerraformSnippet-B6jm71s1.js","assets/GenerateTerraformSnippet-BVFYR4iC.css"])))=>i.map(i=>d[i]);
import{d as B,r as p,ar as M,e as a,h,O as D,V as j,as as G,k as o,y as g,ae as U,M as E,a as H,o as q,g as F,K as A,f as b,w as y,v as K,j as w,i as Y,n as J,N as Q,b as i,D as X,c as u}from"./index-BDTIPFyt.js";import{_ as Z}from"./StepState.vue_vue_type_script_setup_true_lang-DAe_izlq.js";const ee={class:"flex flex-row justify-center step-wrapper"},te=["disabled","onClick"],ne={class:"flex flex-col justify-center items-center gap-8 align-center focus:outline-none mx-8"},oe={class:"text-white font-bold text-xl leading-10"},se=B({__name:"BaseStepCounter",props:{steps:{},currentStep:{}},emits:["handleStepClick"],setup(x,{emit:S}){const c=x,k=S,_=p(50),m=G(()=>{const v=document.querySelectorAll(".step-bar__right")[0].clientWidth;_.value=v},300);window.addEventListener("resize",m),M(()=>{window.removeEventListener("resize",m)});function l(d){return d+1<=c.currentStep}return(d,v)=>(a(),h("ol",ee,[(a(!0),h(D,null,j(c.steps,(t,e)=>(a(),h("li",{key:t.label,class:"flex"},[o("button",{type:"button",class:"grid grid-cols-3 group gap-y-8 md:gap-x-16 sm:gap-x-24 focus:outline-none focus-within:outline-none grid-rows-2",disabled:c.currentStep<=e,onClick:C=>k("handleStepClick",e+1)},[o("span",{class:g(["step-bar step-bar__left h-[4px] mt-[1.5rem] rounded-r-sm",l(e)?"active":"inactive"]),style:U(`--bar-width: ${_.value}`)},null,6),o("span",ne,[o("div",{class:g([l(e)?"cursor-pointer group-hover:drop-shadow-[0px_1px_1px_rgba(0,_0,_0,_0.15)] button-bg border-white drop-shadow-[0px_3px_3px_rgba(0,_0,_0,_0.25)] ":"bg-grey-200 border-grey-100","rounded-full w-[3rem] h-[3rem] border-[4px] border-solid flex flex-col align-center transition duration-150 ease-out group-hover:ease-in group-focus-visible:outline group-focus-visible:outline-offset-4 group-focus-visible:outline-green-300"])},[o("span",oe,E(e+1),1)],2)]),o("span",{class:g(["step-bar step-bar__right h-[4px] mt-[1.5rem] rounded-l-sm",l(e+1)?"active":"inactive"])},null,2),o("span",{class:g(["text-sm col-span-full text-center",l(e)?"group-hover:text-green-500 text-green-500":"text-grey-400"])},E(t.label),3)],8,te)]))),128))]))}}),re={class:"mb-40 items-center header min-h-[45px] items-stretch"},ae={class:"flex mb-[3rem]"},le={class:"bg-grey-50 flex flex-col rounded-xl p-16 grow min-h-[40vh]"},pe=B({__name:"TokenSetupWizard",props:{isManageToken:{type:Boolean}},setup(x){const S=i(()=>u(()=>import("./GenerateAwsSnippet-KOiijJ02.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),c=i(()=>u(()=>import("./CheckAwsPermission-hYBt1W3A.js"),__vite__mapDeps([11,1,2,12,13,14,3,4,5,6,7,9,15]))),k=i(()=>u(()=>import("./CheckAwsRole-CHZ5g6El.js"),__vite__mapDeps([16,1,2,8,9]))),_=i(()=>u(()=>import("./InventoryAwsAccount-DEEb6sE2.js"),__vite__mapDeps([17,8,1,2,9]))),m=i(()=>u(()=>import("./GeneratePlan-UofrnP2v.js"),__vite__mapDeps([18,1,2,8,19,13,20]))),l=i(()=>u(()=>import("./GenerateTerraformSnippet-B6jm71s1.js"),__vite__mapDeps([21,1,2,3,4,5,6,8,9,22]))),d=x,v=H(),t=p(1),e=p(Array(5).fill({})),C=p({1:d.isManageToken?c:S,2:k,3:_,4:m,5:l}),f=p(!1),T=p(!1);q(()=>{e.value[0]=F(),e.value[0]===null&&(f.value=!0,setTimeout(()=>{v.push("/")},5e3))});const P=A(()=>C.value[t.value]||null),R=A(()=>t.value>1),V=[{label:"AWS Setup"},{label:"Check Role"},{label:"Inventory"},{label:"Plan"},{label:"Terraform snippet"}];function I(){t.value++}function L(s){e.value[t.value]=s}function $(s){e.value[t.value-1]={...e.value[t.value-1],...s}}function O(s){t.value=s}function z(s){T.value=s}return(s,n)=>{const W=X,N=se;return a(),h(D,null,[o("div",re,[o("div",ae,[R.value?(a(),b(W,{key:0,type:"button",variant:"text",icon:"angle-left",onClick:n[0]||(n[0]=r=>t.value--)},{default:y(()=>n[5]||(n[5]=[K(" Back ")])),_:1})):w("",!0)]),Y(N,{steps:V,"current-step":t.value,onHandleStepClick:n[1]||(n[1]=r=>O(r))},null,8,["current-step"])]),o("div",le,[(a(),b(Q,null,{fallblack:y(()=>n[6]||(n[6]=[o("p",null,"Loading next step...",-1)])),default:y(()=>[f.value?w("",!0):(a(),b(J(P.value),{key:0,"initial-step-data":e.value[t.value-1],"current-step-data":e.value[t.value],onUpdateStep:I,onStoreCurrentStepData:n[2]||(n[2]=r=>L(r)),onIsSettingError:n[3]||(n[3]=r=>z(r)),onStorePreviousStepData:n[4]||(n[4]=r=>$(r))},null,40,["initial-step-data","current-step-data"]))]),_:1})),f.value?(a(),b(Z,{key:0,"is-error":f.value,"error-message":"We couldn't start the process. You'll be redirected to the Home Page."},null,8,["is-error"])):w("",!0)])],64)}}});export{pe as _};
